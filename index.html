<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Growing Flow Calculator</title>

<style>
  :root{
    --red:#c00000;
    --black:#000;
    --white:#fff;
    --green:#00a000;

    /* currency colors */
    --usdtA:#10b981;
    --usdtB:#059669;
    --euroA:#3b82f6;
    --euroB:#2563eb;
  }
  *{ box-sizing:border-box; }

  body{
    margin:0;
    font-family: Arial, sans-serif;
    color:var(--black);
    background:
      linear-gradient(rgba(255,255,255,0.94), rgba(255,255,255,0.94)),
      url("logo.png") no-repeat center center fixed;
    background-size: 55%;
  }

  .wrap{ max-width:1200px; margin:0 auto; padding:20px; }

  .card{
    background:var(--white);
    border:3px solid var(--black);
    border-radius:18px;
    padding:18px;
    overflow:hidden;
  }

  /* ===========================
     TOPBAR (GRID)
     =========================== */
  .topbar{
    display:grid;
    grid-template-columns: 1fr auto 1fr;
    grid-template-rows: auto auto;
    gap:8px 16px;
    align-items:start;
  }

  h1{
    margin:0;
    font-size:34px;
    line-height:1.05;
    color:var(--green);
    font-weight:800;
    grid-column:1;
    grid-row:1;
    align-self:start;
  }

  .topbar img{
    height:34px;
    width:auto;
    display:block;
    margin-top:4px;
    grid-column:3;
    grid-row:1;
    justify-self:end;
    align-self:start;
  }

  .regBtnWrap{
    grid-column:2;
    grid-row:1;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    padding-top:2px;
  }

  .regBtn{
    display:inline-block;
    width:auto;
    padding:10px 16px;
    border-radius:999px;
    border:2px solid var(--black);
    background:var(--red);
    color:var(--white);
    font-weight:900;
    text-decoration:none;
    cursor:pointer;
    line-height:1;
    box-shadow: 0 0 0 rgba(192,0,0,0);
    animation: regGlow 1.6s ease-in-out infinite;
  }
  .regBtn:hover{
    filter:brightness(0.95);
    animation: none;
    box-shadow: 0 0 22px rgba(192,0,0,0.55);
  }

  @keyframes regGlow{
    0%   { box-shadow: 0 0 0 rgba(192,0,0,0); transform: translateY(0); }
    50%  { box-shadow: 0 0 22px rgba(192,0,0,0.55); transform: translateY(1px); }
    100% { box-shadow: 0 0 0 rgba(192,0,0,0); transform: translateY(0); }
  }

  /* TEXT PLACEMENT: top right block (under logo) */
  .regTextRow{
    grid-column:3;
    grid-row:2;
    justify-self:end;
    text-align:right;
    font-weight:800;
    line-height:1.25;
    padding-top:0;
    margin-top:-2px;
    max-width:520px;
  }

  .regSmall{
    font-size:12px;
    font-weight:800;
    line-height:1.25;
  }

  .regMeta{
    margin-top:6px;
    font-size:12px;
    font-weight:800;
    line-height:1.25;
  }

  .grid3{
    display:grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap:14px;
    margin-top:18px;
  }
  .grid2{
    display:grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap:14px;
  }

  .box{
    border:2px solid var(--black);
    border-radius:14px;
    padding:12px;
    background:var(--white);
    overflow:hidden;
  }

  .boxTitle{
    color:var(--red);
    font-weight:800;
    margin:0 0 10px;
    font-size:18px;
  }

  label{
    display:block;
    font-size:13px;
    font-weight:700;
    margin:0 0 6px;
  }

  input, select, button{
    width:100%;
    padding:12px 12px;
    border:2px solid var(--black);
    border-radius:12px;
    background:var(--white);
    color:var(--black);
    font-size:14px;
    outline:none;
    min-width:0;
  }
  input:focus, select:focus{ border-color:var(--red); }
  input[readonly], select:disabled{ opacity:0.9; }

  .field{ position:relative; }
  .field.hasSuffix input,
  .field.hasSuffix select{ padding-right:78px; }

  .suffix{
    position:absolute;
    right:10px;
    top:50%;
    transform:translateY(-50%);
    font-weight:900;
    font-size:12px;
    color:var(--black);
    background:var(--white);
    padding:2px 10px;
    border-radius:999px;
    border:2px solid var(--black);
    pointer-events:none;
    line-height:1.3;
    white-space:nowrap;
  }

  /* ===========================
     CURRENCY HIGHLIGHT
     =========================== */
  #currency{
    font-weight:900; /* make currency label bolder */
  }

  .currencyField{
    border-radius:14px;
    padding:10px;
    border:2px solid var(--black);
    background:var(--white);
  }
  .currencyField label{
    margin-top:0;
  }

  .currencyField.usdt{
    border-color: var(--usdtB);
    box-shadow: 0 0 0 4px rgba(16,185,129,0.18);
    background:
      linear-gradient(0deg, rgba(16,185,129,0.09), rgba(16,185,129,0.09)),
      var(--white);
  }
  .currencyField.usdt label{ color: var(--usdtB); font-weight:900; }

  .currencyField.euro{
    border-color: var(--euroB);
    box-shadow: 0 0 0 4px rgba(59,130,246,0.18);
    background:
      linear-gradient(0deg, rgba(59,130,246,0.09), rgba(59,130,246,0.09)),
      var(--white);
  }
  .currencyField.euro label{ color: var(--euroB); font-weight:900; }

  .rowBtns{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:12px;
  }

  .btn{
    background:var(--red);
    color:var(--white);
    border-color:var(--black);
    font-weight:900;
    cursor:pointer;
    width:auto;
    padding:10px 14px;
    border-radius:12px;
  }
  .btn:hover{ filter:brightness(0.95); }

  .smallBtn{
    width:auto;
    padding:10px 12px;
    border-radius:12px;
    border:2px solid var(--black);
    background:var(--white);
    color:var(--black);
    font-weight:900;
    cursor:pointer;
  }
  .smallBtn.red{ background:var(--red); color:var(--white); }

  .badge{
    display:inline-flex;
    align-items:center;
    gap:10px;
    font-weight:900;
    font-size:12px;
    padding:8px 12px;
    border:2px solid var(--black);
    border-radius:999px;
    background:var(--white);
    user-select:none;
  }

  .tabs{
    display:flex;
    gap:10px;
    margin:14px 0 12px;
    flex-wrap:wrap;
  }
  .tab{
    width:auto;
    padding:10px 14px;
    border:2px solid var(--black);
    border-radius:999px;
    background:var(--white);
    color:var(--black);
    font-weight:900;
    cursor:pointer;
  }
  .tab.active{ background:var(--red); color:var(--white); }

  .summary{
    display:grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap:12px;
    margin-top:14px;
  }

  .kpi{
    border:2px solid var(--black);
    border-radius:14px;
    padding:12px;
    background:var(--white);
    overflow:hidden;
  }
  .kpi .t{ font-size:12px; font-weight:900; }
  .kpi .v{
    margin-top:6px;
    font-size:20px;
    font-weight:900;
    color:var(--red);
    font-family: monospace;
  }
  .kpi .s{
    margin-top:6px;
    font-size:12px;
    font-weight:800;
    font-family: monospace;
  }

  .tableWrap{
    margin-top:12px;
    border:2px solid var(--black);
    border-radius:14px;
    overflow:auto;
    max-height:520px;
    background:var(--white);
    -webkit-overflow-scrolling: touch;
  }

  table{
    width:100%;
    border-collapse:collapse;
    min-width:980px;
    background-image:
      linear-gradient(rgba(255,255,255,0.88), rgba(255,255,255,0.88)),
      url("table-bg.png");
    background-repeat:repeat;
    background-size:220px 220px;
    background-position:center center;
  }

  thead th{
    position:sticky;
    top:0;
    background:var(--black);
    color:var(--white);
    padding:10px;
    font-size:12px;
    text-align:left;
    white-space:nowrap;
    border-bottom:2px solid var(--black);
  }
  tbody td{
    padding:10px;
    border-bottom:2px solid var(--black);
    font-size:13px;
    white-space:nowrap;
    font-family: monospace;
    background:transparent;
  }
  tbody tr{ background:transparent; }

  .withdrawList{
    display:grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap:10px;
    margin-top:10px;
  }

  .withdrawItem{
    display:flex;
    gap:8px;
    align-items:center;
  }
  .withdrawItem input{ flex:1; }

  .xBtn{
    width:auto;
    padding:10px 12px;
    border-radius:12px;
    border:2px solid var(--black);
    background:var(--white);
    color:var(--black);
    font-weight:900;
    cursor:pointer;
    flex:0 0 auto;
  }
  .xBtn:hover{ background:var(--red); color:var(--white); }

  .error{
    margin-top:10px;
    padding:10px 12px;
    border:2px solid var(--red);
    border-radius:12px;
    color:var(--red);
    font-weight:900;
    display:none;
  }

  .ecrHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    flex-wrap:wrap;
    margin-bottom:10px;
  }

  /* Responsive */
  @media (max-width: 900px){
    .grid3{ grid-template-columns: 1fr; }
    .grid2{ grid-template-columns: 1fr; }
    .summary{ grid-template-columns: 1fr; }
    .withdrawList{ grid-template-columns: 1fr; }
    h1{ font-size:28px; }
  }

  @media (max-width: 520px){
    body{ background-size: 85%; }
    .wrap{ padding:12px; }
    .card{ padding:14px; border-radius:16px; border-width:3px; }

    .topbar{
      grid-template-columns: 1fr;
      grid-template-rows: auto auto auto auto;
      gap:10px;
    }
    h1{ font-size:26px; grid-column:1; grid-row:1; }
    .regBtnWrap{ grid-column:1; grid-row:2; justify-content:flex-start; }
    .topbar img{ grid-column:1; grid-row:3; justify-self:start; height:30px; margin-top:0; }
    .regTextRow{ grid-column:1; grid-row:4; justify-self:start; text-align:left; max-width:none; margin-top:0; }
  }

  @media (max-width: 360px){
    h1{ font-size:24px; }
    .field.hasSuffix input,
    .field.hasSuffix select{ padding-right:60px; }
    .suffix{ padding:2px 7px; }
    table{ min-width:820px; }
  }

  /* ===========================
     INFO BUTTON + WINDOW (CSS)
     =========================== */
  .ratesHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
  }

  .infoBtn{
    width:auto;
    padding:6px 10px;
    border-radius:999px;
    border:2px solid var(--black);
    background:var(--white);
    color:var(--black);
    font-weight:900;
    cursor:pointer;
    line-height:1;
    flex:0 0 auto;
  }
  .infoBtn:hover{
    border-color:var(--red);
    color:var(--red);
  }

  .infoOverlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.35);
    display:none;
    align-items:center;
    justify-content:center;
    padding:18px;
    z-index:9999;
  }
  .infoOverlay.open{ display:flex; }

  .infoModal{
    width:min(640px, 100%);
    background:var(--white);
    border:3px solid var(--black);
    border-radius:16px;
    padding:14px 14px 12px;
  }

  .infoTop{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    margin-bottom:8px;
  }
  .infoTitle{
    font-weight:900;
    color:var(--red);
    font-size:16px;
  }
  .infoClose{
    width:auto;
    padding:8px 12px;
    border-radius:12px;
    border:2px solid var(--black);
    background:var(--white);
    font-weight:900;
    cursor:pointer;
  }
  .infoClose:hover{ background:var(--red); color:var(--white); }

  .infoBody{
    font-size:13px;
    line-height:1.45;
    font-weight:700;
    color:var(--black);
  }
  .infoBody b{ font-weight:900; }
</style>
</head>

<body>
<div class="wrap">
  <div class="card">

    <div class="topbar">
      <h1>Growing Flow Calculator</h1>

      <div class="regBtnWrap">
        <a class="regBtn" id="regBtn" href="#" target="_blank" rel="noopener">REGISTRATION</a>
      </div>

      <img src="cashflow.png" alt="CASHFLOW" />

      <div class="regTextRow">
        <div class="regSmall">They helped you, so help them too.</div>
        <div class="regMeta">
          Developed Pinchuk Alexander<br>
          EMAIL:&nbsp; ah.althouse@gmail.com
        </div>
      </div>
    </div>

    <div class="grid3">
      <div class="field hasSuffix">
        <label>Deposit</label>
        <input id="amount" type="text" inputmode="decimal" value="1000" />
        <span class="suffix" id="depositSuffix">USDT</span>
      </div>

      <div class="field">
        <label>Deposit date</label>
        <input id="depositDate" type="date" />
      </div>

      <div class="currencyField usdt" id="currencyField">
        <label>Currency</label>
        <select id="currency">
          <option value="USDT">USDT</option>
          <option value="EURO">EURO</option>
        </select>
      </div>
    </div>

    <div class="box" style="margin-top:14px;">
      <div class="ecrHeader">
        <div class="boxTitle" style="margin:0;">ECR boost</div>
        <div class="badge" title="Auto mode only">MODE&nbsp;AUTO</div>
      </div>

      <div class="grid3">
        <div class="field hasSuffix">
          <label>ECR rate</label>
          <input id="ecrRate" type="text" inputmode="decimal" value="816.80" />
          <span class="suffix" id="fiatSymbol">₮</span>
        </div>

        <div class="field">
          <label>Flow multiplier</label>
          <select id="multiplier"></select>
        </div>

        <div class="field hasSuffix">
          <label>Flow opens on</label>
          <input id="flowOpensOn" type="text" readonly />
          <span class="suffix" id="flowSuffix">USDT</span>
        </div>
      </div>

      <div class="grid3" style="margin-top:12px;">
        <div class="field hasSuffix">
          <label>Extra needed</label>
          <input id="extraNeeded" type="text" inputmode="decimal" />
          <span class="suffix" id="fiatSymbol2">₮</span>
        </div>

        <div class="field hasSuffix">
          <label>ECR required</label>
          <input id="ecrRequired" type="text" readonly />
          <span class="suffix">ECR</span>
        </div>

        <div class="field">
          <label>Status</label>
          <input id="status" type="text" readonly value="ECR = extra / rate" />
        </div>
      </div>

      <div class="rowBtns">
        <button class="smallBtn" id="resetAutoBtn" type="button">Reset auto</button>
      </div>

      <div class="error" id="errBox"></div>
    </div>

    <div class="grid2" style="margin-top:14px;">
      <div class="box">
        <div class="boxTitle">Withdraw dates</div>
        <div style="font-size:13px;font-weight:800;">
          Add up to 10 dates. On withdraw date: wallet resets and rate progress resets. No reward on that day.
        </div>

        <div class="rowBtns">
          <button class="smallBtn red" id="addWithdrawBtn" type="button">+ Add date</button>
          <button class="smallBtn" id="clearWithdrawBtn" type="button">Clear</button>
        </div>

        <div class="withdrawList" id="withdrawList"></div>
      </div>

      <div class="box">
        <div class="ratesHeader">
          <div class="boxTitle" style="margin:0;">Rates</div>
          <button class="infoBtn" id="infoBtn" type="button">Info</button>
        </div>

        <div class="grid2" style="margin-top:10px;">
          <div class="field

