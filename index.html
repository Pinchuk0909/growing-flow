<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Growing Flow</title>

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background: #ffffff url("logo.png") no-repeat center center fixed;
  background-size: 55%;
}

body::before {
  content:"";
  position:fixed;
  inset:0;
  background: rgba(255,255,255,0.93);
  z-index:-1;
}

.wrap { max-width:1200px; margin:0 auto; padding:20px; }

.card {
  background:#ffffff;
  border:3px solid #000000;
  border-radius:16px;
  padding:20px;
}

h1 { color:#c00000; }

label { font-size:13px; font-weight:bold; color:#000; }

input, button {
  width:100%;
  padding:10px;
  border-radius:10px;
  border:2px solid #000;
  background:#fff;
  color:#000;
}

button {
  background:#c00000;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}

button:hover { background:#900000; }

.grid3 { display:grid; grid-template-columns: repeat(3,1fr); gap:12px; }
.grid { display:grid; grid-template-columns: repeat(2,1fr); gap:12px; }

.box {
  border:2px solid #000;
  border-radius:12px;
  padding:12px;
  background:#fff;
}

.sectionTitle {
  color:#c00000;
  font-weight:bold;
  margin-bottom:6px;
}

table {
  width:100%;
  border-collapse:collapse;
  background:#fff;
}

thead th {
  background:#000;
  color:#fff;
  padding:10px;
}

tbody td {
  border-bottom:1px solid #000;
  padding:8px;
  color:#000;
}

tbody tr:nth-child(even) { background:#f2f2f2; }

.mono { font-family: monospace; }

.tabs { margin-top:12px; }

.tab {
  border:2px solid #000;
  background:#fff;
  color:#000;
  padding:8px 12px;
  margin-right:6px;
  cursor:pointer;
  font-weight:bold;
}

.tab.active {
  background:#c00000;
  color:#fff;
}

.kpi {
  border:2px solid #000;
  padding:12px;
  border-radius:12px;
  background:#fff;
}

.kpi .v { color:#c00000; font-size:18px; font-weight:bold; }

.summary { display:grid; grid-template-columns: repeat(3,1fr); gap:10px; margin-top:12px; }
</style>
</head>

<body>
<div class="wrap">
<div class="card">

<h1>Growing Flow Calculator</h1>

<div class="grid3">
  <div>
    <label>Deposit (USDT)</label>
    <input id="amount" type="number" value="1000">
  </div>
  <div>
    <label>Deposit date</label>
    <input id="depositDate" type="date">
  </div>
  <div>
    <label>Currency</label>
    <input id="currency" value="USDT">
  </div>
</div>

<div class="box" style="margin-top:12px;">
  <div class="sectionTitle">ECR boost</div>
  <div class="grid3">
    <div>
      <label>ECR rate (₮)</label>
      <input id="ecrRate" value="816.80">
    </div>
    <div>
      <label>Flow multiplier</label>
      <input id="boostPct" readonly>
    </div>
    <div>
      <label>Flow opens on</label>
      <input id="boostedAmount" readonly>
    </div>
  </div>

  <div class="grid3" style="margin-top:10px;">
    <div>
      <label>Extra needed (₮)</label>
      <input id="extraFiat" readonly>
    </div>
    <div>
      <label>ECR required</label>
      <input id="ecrNeeded" readonly>
    </div>
    <div>
      <label>Status</label>
      <input value="ECR = extra / rate" readonly>
    </div>
  </div>
</div>

<div class="grid" style="margin-top:12px;">
  <div class="box">
    <label>Withdraw dates (YYYY-MM-DD, comma)</label>
    <input id="withdrawDates">
  </div>
  <div class="box">
    <label>Start rate %</label>
    <input id="startRate" value="0.3">
    <label>Daily bonus %</label>
    <input id="rateStep" value="0.01">
  </div>
</div>

<div class="tabs">
  <button class="tab active" id="tab30">30 days</button>
  <button class="tab" id="tab6m">6 months</button>
</div>

<div class="grid" style="margin-top:10px;">
  <button onclick="calculate()">Calculate</button>
</div>

<div class="summary" id="kpiWrap" style="display:none;">
  <div class="kpi"><div class="v" id="kpiStart"></div></div>
  <div class="kpi"><div class="v" id="kpiEnd"></div></div>
  <div class="kpi"><div class="v" id="kpiRewards"></div></div>
</div>

<div style="margin-top:12px; max-height:400px; overflow:auto;">
<table>
<thead>
<tr>
  <th>Day</th><th>Date</th><th>Rate %</th><th>Reward</th><th>Deposit</th><th>Wallet</th><th>Note</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
</div>

</div>
</div>

<script>
function boostPctFromDeposit(a){
 if(a>=1000000) return 280;
 if(a>=500000) return 270;
 if(a>=250000) return 260;
 if(a>=100000) return 250;
 if(a>=50000) return 230;
 if(a>=25000) return 210;
 if(a>=10000) return 200;
 if(a>=5000) return 180;
 if(a>=2500) return 160;
 if(a>=1000) return 150;
 if(a>=500) return 140;
 if(a>=100) return 130;
 return 100;
}

function calculate(){
 let base = +amount.value;
 let boost = boostPctFromDeposit(base);
 let opened = base * boost / 100;
 let extra = opened - base;
 let ecr = extra / +ecrRate.value;

 boostPct.value = boost+"%";
 boostedAmount.value = opened.toFixed(2)+" USDT";
 extraFiat.value = extra.toFixed(2)+" ₮";
 ecrNeeded.value = ecr.toFixed(8)+" ECR";

 let rate = +startRate.value;
 let wallet = 0;
 tbody.innerHTML="";

 for(let i=1;i<=30;i++){
   let reward = opened * rate/100;
   wallet += reward;

   let tr = document.createElement("tr");
   tr.innerHTML = `<td>${i}</td><td>Day ${i}</td><td>${rate.toFixed(2)}%</td><td>${reward.toFixed(2)}</td><td>${opened}</td><td>${wallet.toFixed(2)}</td><td>Paid</td>`;
   tbody.appendChild(tr);

   rate += +rateStep.value;
 }

 kpiWrap.style.display="grid";
 kpiStart.innerText = "Deposit: "+opened.toFixed(2);
 kpiEnd.innerText = "Wallet: "+wallet.toFixed(2);
 kpiRewards.innerText = "Total rewards: "+wallet.toFixed(2);
}

let d=new Date();
depositDate.value = d.toISOString().slice(0,10);
calculate();
</script>

</body>
</html>
